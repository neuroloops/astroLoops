---
import 'virtual:windi.css'
import * as section from '@/content/sections/about.md'
import importAssets from '@/utils/splitName'

const { title, name, offer, img } = section.frontmatter

const avatar = await importAssets(img, 'about')

let list = []

for (const { img, text } of offer) {
	const imgSrc = await importAssets(img, 'about')
	list.push({ img: imgSrc, text })
}
---

<div class="flex py-28 gap-8 justify-between">
	<div><img src={avatar.src} alt="pofile picture" /></div>

	<div>
		<!--leftArrow need a relative parrent -->
		<div class="relative">
			<div class="rounded-lg bg-gray-100 border-gray-100
				p-4 lg:leftArrow">
				<div>{title}{' '}{name}</div>
				<div class="mb-20 prose overflow-visible">
					<section.Content />
				</div>
			</div>
		</div>
		<div class="bg-white rounded-3xl p-4
		shadow-[0_6px_42px_0px_rgba(0,0,0,0.08)]">
			<h2 class="text-xl text-llWhite-600">What can I Offer</h2>
			<ul class="grid grid-cols-2">
				{
					list.map((item) => (
						<li class="flex py-2 gap-2 items-center ">
							<div class="flex h-10 w-10 items-center justify-end ">
								<img src={item.img.src} alt={item.text} />
							</div>
							{item.text}
						</li>
					))
				}
			</ul>
		</div>
	</div>
</div>

<style>
	.leftArrow::after {
		content: '';
		border: 20px solid transparent;
		position: absolute;
		border-right-color: inherit;
		border-left: 0;
		left: -19px;
		top: 25%;
		margin-top: -20px;
	}
</style>
